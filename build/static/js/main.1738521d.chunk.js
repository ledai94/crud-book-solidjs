(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{8:function(e,t,o){"use strict";o.r(t);var i=o(0),n=o(1),l=o(2),r=o(10);const s=Object(n.h)('<div class="main-form"><h2>Books form</h2><form><div class="field"><label class="label">bookname</label><div class="control"><input class="input" name="bookname"></div></div><br><div class="field"><label class="label">book author</label><div class="control"><input class="input" type="text" name="author" placeholder="Enter book author"></div></div><br><div class="field"><label class="label">Book quantity</label><div class="control"><input class="input-control" type="text" name="quantity" placeholder="Enter book quantity"></div></div><br><div class="field"><label class="label">Book price</label><div class="control"><input class="input-control" type="text" name="price" placeholder="Enter book price "></div></div><br><div class="field"><div class="control"><button class="button submit-btn" type="submit">Submit</button></div></div></form></div>',44);function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach((function(t){b(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function b(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d,u=e=>{const[t,o]=Object(i.j)(()=>({bookname:e.book?e.book.bookname:"",author:e.book?e.book.author:"",quantity:e.book?e.book.quantity:"",price:e.book?e.book.price:"",date:e.book?e.book.date:""})),[n,l]=Object(i.j)(""),{bookname:c,author:b,quantity:d,price:u,date:v}=t(),h=e=>{const{name:t,value:i}=e.target;switch(console.log("name",t),console.log("value",i),t){case"quantity":""!==i&&parseInt(i)!==+i||o(e=>a(a({},e),{},{[t]:i}));break;case"price":(""===i||i.match(/^\d{1,}(\.\d{0,2})?$/))&&o(e=>a(a({},e),{},{[t]:i}));break;default:o(e=>a(a({},e),{},{[t]:i}))}},k=o=>{o.preventDefault(),console.log("book",t());const i=[t().bookname,t().author,t().quantity,t().price];console.log("values",i);let n="";const s=i.every(e=>{const t="".concat(e).trim();return""!==t&&"0"!==t}),[c,a,b,d]=i;if(s){const t={id:Object(r.a)(),bookname:c,author:a,quantity:b,price:d,date:new Date};console.log("book",t),e.handleSubmit(t)}else n="Please fill out all the fields";l(n)};return(()=>{const e=s.cloneNode(!0),t=e.firstChild.nextSibling,o=t.firstChild,i=o.firstChild.nextSibling.firstChild,n=o.nextSibling.nextSibling,l=n.firstChild.nextSibling.firstChild,r=n.nextSibling.nextSibling,a=r.firstChild.nextSibling.firstChild,v=r.nextSibling.nextSibling.firstChild.nextSibling.firstChild;return t.addEventListener("submit",k),i.addEventListener("change",h),i.value=c,l.addEventListener("change",h),l.value=b,a.addEventListener("change",h),a.value=d,v.addEventListener("change",h),v.value=u,e})()},v=o(3);const h=Object(v.a)({books:JSON.parse(null!==(d=window.localStorage.getItem("booksList"))&&void 0!==d?d:"[]"),get count(){return this.books.length},addBook(e){this.books.push(e),window.localStorage.setItem("books",JSON.stringify(this.books))},delete(e){let t=this.books.filter(t=>t.id!==e.id);this.books=t,window.localStorage.setItem("books",JSON.stringify(this.books))},deleteAll(){this.books=[],window.localStorage.setItem("books",JSON.stringify(this.books))}});var k=e=>{let{history:t}=e;const o=Object(l.e)();return Object(i.d)(u,{handleSubmit:e=>{console.log("book handleSubmit",e),h.addBook(e),o("/")}})},O=o(5);const g=Object(n.h)('<div><p class="book-title"></p><div class="book-details"><div>Author: </div><div>price: </div><div>quantity: </div><div>date: </div></div><button>Edit</button><button>Delete</button></div>',18);var p=e=>{let{id:t,bookname:o,author:i,price:l,quantity:r,date:s,handleRemoveBook:c}=e;const a=Object(O.a)();return(()=>{const e=g.cloneNode(!0),c=e.firstChild,b=c.nextSibling,d=b.firstChild,u=(d.firstChild,d.nextSibling),v=(u.firstChild,u.nextSibling),k=(v.firstChild,v.nextSibling),O=(k.firstChild,b.nextSibling),p=O.nextSibling;return Object(n.b)(c,o),Object(n.b)(d,i,null),Object(n.b)(u,l,null),Object(n.b)(v,r,null),Object(n.b)(k,()=>new Date(s).toDateString(),null),O.$$click=()=>a.push("/edit/".concat(t)),p.$$click=()=>h.delete(book),e})()};Object(n.a)(["click"]);var f=o(4),j=o.n(f);const m=Object(n.h)('<div class="book-list"></div>',2),S=Object(n.h)("<p>No books added till now</p>",2);var y=()=>{const e=e=>{setBooks(books.filter(t=>t.id!==e))};return(()=>{const t=m.cloneNode(!0);return Object(n.b)(t,(()=>{const t=Object(n.d)(()=>!j.a.isEmpty(h.books),!0);return()=>t()?h.books.map(t=>Object(i.d)(p,Object(i.m)({get key(){return t.id}},t,{handleRemoveBook:e}))):S.cloneNode(!0)})()),t})()};var w=Object(i.e)();const x=Object(n.h)("<div></div>",2);var C=e=>{let{history:t}=e;const{books:o,setBooks:r}=Object(i.t)(w),{id:s}=Object(l.f)(),c=o.find(e=>e.id===s),a=e=>{const i=o.filter(e=>e.id!==s);r([e,...i]),t.push("/")};return(()=>{const e=x.cloneNode(!0);return Object(n.b)(e,Object(i.d)(u,{book:c,handleSubmit:a})),e})()};const B=Object(n.h)('<header><h2> Books management App</h2><hr><nav class="navbar" role="navigation" aria-label="main navigation"><div class="navbar-menu"><a class="navbar-item"></a><a class="navbar-item"></a></div></nav></header>',13);var N=()=>(()=>{const e=B.cloneNode(!0),t=e.firstChild.nextSibling.nextSibling.firstChild.firstChild,o=t.nextSibling;return Object(n.b)(t,Object(i.d)(l.a,{href:"/",class:"link",activeClass:"active",children:"Books List"})),Object(n.b)(o,Object(i.d)(l.a,{href:"/add",class:"link",activeClass:"active",children:"Add Book"})),e})();var E=(e,t)=>{const[o,n]=Object(i.j)(()=>{try{const o=window.localStorage.getItem(e);return o?JSON.parse(o):t}catch(o){return t}});return Object(i.f)(()=>{window.localStorage.setItem(e,JSON.stringify(o))}),[o,n]};const q=Object(n.h)('<section class="columns is-vcentered is-centered red-bg"><div class="container  is-flex-direction-column is-justify-content-center"><div class="columns is-desktop is-vcentered"></div></div></section>',6);var P=()=>{const[e,t]=E("books",[]);return(()=>{const o=q.cloneNode(!0),r=o.firstChild,s=r.firstChild;return Object(n.b)(r,Object(i.d)(N,{}),s),Object(n.b)(s,Object(i.d)(w.Provider,{value:{books:e,setBooks:t},get children(){return Object(i.d)(l.d,{get children(){return[Object(i.d)(l.b,{path:"/",get element(){return Object(i.d)(y,{})}}),Object(i.d)(l.b,{path:"/add",get element(){return Object(i.d)(k,{})}}),Object(i.d)(l.b,{path:"/edit/:id",get element(){return Object(i.d)(C,{})}})]}})}})),o})()};Object(n.e)(()=>Object(i.d)(l.c,{get children(){return Object(i.d)(P,{})}}),document.getElementById("root"))}},[[8,1,2]]]);